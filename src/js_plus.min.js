/*!
 * js_plus.js
 * https://github.com/wzh656/js-plus/
 * Version: 2.0
 * Copyright Â© 2021~2024 wzh
 * Released under the MIT license
 * https://github.com/wzh656/js-plus/blob/main/LICENSE
 */
!function(){if("undefined"!=typeof String&&(String.prototype.padStart||(String.prototype.padStart=function(t,n){return t>>=0,n=String(void 0!==n?n:" "),this.length>t?String(this):((t-=this.length)>n.length&&(n+=n.repeat(t/n.length)),n.slice(0,t)+String(this))}),String.prototype.padEnd||(String.prototype.padEnd=function(t,n){return t>>=0,n=String(void 0!==n?n:""),this.length>t?String(this):((t-=this.length)>n.length&&(n+=n.repeat(t/n.length)),String(this)+n.slice(0,t))}),String.random=function(t,n=[]){let e="";if(n instanceof Array||(n=Object.keys(n)),void 0===t)do{e=Math.random().toString(36).substr(2)}while(n.some((t=>t==e)));else do{for(;e.length<t;)e+=Math.random().toString(36).substr(2);e=e.slice(0,t)}while(n.some((t=>t==e)));return e},String.prototype.include=function(t){return-1!=this.indexOf(t)}),"undefined"!=typeof Number&&(Number.prototype.padding=function(t,n){const e=String(this).split(".");let r="";for(isNaN(+e[0].charAt(0))&&(r=e[0].charAt(0),e[0]=e[0].slice(1));e[0].length+r.length<t;)e[0]="0"+e[0];for(e[1]=e[1]||"";e[1].length<n;)e[1]+="0";return r+e[0]+(e[1]?"."+e[1]:"")}),"undefined"!=typeof Math){const t=Math.floor;Math.floor=function(n=0,e){return void 0!==e?t(n*10**e)/10**e:t(n)};const n=Math.round;Math.round=function(t=0,e){return void 0!==e?n(t*10**e)/10**e:n(t)};const e=Math.ceil;Math.ceil=function(t=0,n){return void 0!==n?e(t*10**n)/10**n:e(t)};const r=Math.random;Math.random=function(t=1,n,e){return void 0!==n?void 0!==e?Math.floor(r()*(n-t)+t,e):r()*(n-t)+t:r()*t},Math.randomError=function(t=.1,n=0){return Math.random(n-t,n+t)},Math.randomND=function(t=0,n=1){const e=1-Math.random(),r=1-Math.random(),o=Math.sqrt(-2*Math.log(e))*Math.cos(2*Math.PI*r);Math.sqrt(-2*Math.log(e)),Math.sin(2*Math.PI*r);return o*n+t},Math.limitRange=function(t,n,e,r){return t<=n?n:t>=e?e:r?Math.round(t,r):t},Math.modRange=function(t,n,e,r){const o=e-n;if(t>=e){const e=(t-n)%o+n;return r?Math.round(e,r):e}if(t<n){const n=e-(e-t)%o;return r?Math.round(n,r):n}return r?Math.round(t,r):t},Math.sum=function(...t){let n=0;for(const e of t)isNaN(e)||(n+=e);return n},Math.avg=function(...t){return Math.sum(...t)/(t.filter((t=>!isNaN(t))).length||1)};const o=Math.PI/180,i=180/Math.PI;Math.toRad=function(t){return t*o},Math.toDeg=function(t){return t*i}}if("undefined"!=typeof Object&&(Object.map=function(t,n=(t=>t)){const e={};for(const[r,o]of Object.entries(t))e[r]=n(o,r,t);return e},Object.some=function(t,n=(t=>t)){for(const[e,r]of Object.entries(t))if(n(r,e,t))return!0;return!1},Object.every=function(t,n=(t=>t)){for(const[e,r]of Object.entries(t))if(!n(r,e,t))return!1;return!0},Object.and=function(t={},n={},e=n){for(const[r,o]of Object.entries(e))t[r]=t[r]&&n[r];return t},Object.or=function(t={},n={},e=n){for(const[r,o]of Object.entries(e))t[r]=t[r]||n[r];return t}),"undefined"!=typeof Array&&(Array.new=function(t,n,...e){if(0==e.length){if(t instanceof Function){if("object"==typeof n){const e=[];for(const r of Array.range(...n))e[r]=t();return e}return Array.from({length:n},t)}if("object"==typeof n){const e=[];for(const r of Array.range(...n))e[r]=t;return e}return Array.from({length:n},(()=>t))}if("object"==typeof n){const r=[];for(const o of Array.range(...n))r[o]=Array.new(t,...e);return r}return new Array(n).fill(Array.new(t,...e))},Array.range=function(t,n,e=1){return void 0===n&&([t,n]=[0,t]),Array.from({length:Math.ceil((n-t)/e)},((n,r)=>t+r*e))},Array.random=function(t,n,e,r){return Array.from({length:t},(()=>Math.random(n,e,r)))},Array.prototype.sum=function(){return Math.sum(...this)},Array.prototype.avg=function(){return Math.avg(...this)},Array.prototype.min=function(){return Math.min(...this)},Array.prototype.max=function(){return Math.max(...this)},Array.prototype.include=function(t){return-1!=this.indexOf(t)},Array.prototype.randomSelect=function(t){if(!t)return this[~~(Math.random()*this.length)];{const n=Math.random(0,t.sum());let e=0;for(let r=0;r<this.length;++r)if(e+=t[r],n<e)return this[r]}},Array.prototype.shuffle=function(){for(let t=0;t<this.length;++t){const n=~~Math.random(this.length),e=this[t];this[t]=this[n],this[n]=e}return this}),"undefined"!=typeof Date&&(Date.prototype.format=function(t){const n={"y+":this.getFullYear(),"M+":this.getMonth()+1,"d+":this.getDate(),"h+":this.getHours(),"m+":this.getMinutes(),"s+":this.getSeconds(),"q+":Math.floor((this.getMonth()+3)/3),S:this.getMilliseconds()};for(const[e,r]of Object.entries(n))new RegExp("("+e+")").test(t)&&(t=t.replace(RegExp.$1,(r+"").padStart(RegExp.$1.length,"0")));return t}),"undefined"!=typeof location&&(location.getQueryString=function(t){var n=new RegExp("(^|&)"+t+"=([^&]*)(&|$)"),e=location.search.substr(1).match(n);if(null!=e)return decodeURIComponent(e[2])}),"undefined"!=typeof URL&&(URL.image2base64=function(t,n="image/png"){return new Promise(((e,r)=>{const o=new Image;o.onload=function(){const t=document.createElement("canvas");t.width=this.naturalWidth,t.height=this.naturalHeight,t.getContext("2d").drawImage(this,0,0),e(t.toDataURL(n))},o.onerror=r,o.setAttribute("crossOrigin","Anonymous"),o.src=t}))},URL.blob2url=function(t){return URL.createObjectURL(t)},URL.blob2base64=function(t){return new Promise(((n,e)=>{const r=new FileReader;r.onload=t=>{n(t.target.result)},r.onerror=e,r.readAsDataURL(t)}))},URL.base64ToBlob=function(t){let n=t.split(","),e=n[0].match(/:(.*?);/)[1],r=atob(n[1]),o=r.length,i=new Uint8Array(o);for(;--o;)i[o]=r.charCodeAt(o);return new Blob([i],{type:e})}),"undefined"!=typeof navigator&&(/ipad|iphone|midp|rv:1.2.3.4|ucweb|android|windows ce|windows mobile/.test(navigator.userAgent.toLowerCase())?-1!=navigator.userAgent.toLowerCase().indexOf("html5plus")?navigator.device=-2:navigator.device=-1:"undefined"!=typeof require?navigator.device=2:navigator.device=1),"undefined"!=typeof console){const t=console.time;console.time=function(n,e){e?(t(n),e(),console.timeEnd(n)):t(n)}}"undefined"==typeof gloalThis&&(gloalThis="undefined"!=typeof window?window:"object"==typeof process&&"function"==typeof require&&"object"==typeof global?global:this),gloalThis.OR=function(...t){for(const n of t)if(null!=n)return n;return t[t.length-1]},gloalThis.ATTR=function(t,...n){let e=t;for(const t of n)if(e=e[t],null==e||null==e)return e;return e},gloalThis.NEAR=function(t,n,e=1e-8){return!(Math.abs(t-n)>=e)}}();